// Name: Common
// Author: Graffino (http://www.graffino.com)

// !Navigation
// ==|=========================================================================
.main-nav,
.secondary-nav {
	margin: 0
	padding: 0
	list-style-type: none
	
	.favourites-counter {
		color: #ffa902
	}

	&__item {
		display: inline-block

		+below(960px) {
			display: block
			border-bottom: 1px solid #202226

			&:last-child {
				border: 0
			}
		}

		&__link {
			position: relative
			display: block
			color: inherit
			text-decoration: none
		}
	}
}

.main-nav {
	position: absolute
	top: rem(11)
	right: 0
	left: 0
	display: block
	margin: 0 auto
	width: 50%
	text-align: center

	+below(960px) {
		position: static
		display: inline-block
		margin: rem(5) 0 rem(10)
		width: rem(180)
		text-align: left
	}

	&__item {
		color: #fff
		font-family: $caslon-font-family
		font-size: rem(15)
		font-weight: 700
		font-style: normal
		text-transform: uppercase
		
		&--cta {
			color: $aqua
			border: 2px solid currentColor
			border-radius: 3px
			
			a {
				padding: rem(9) rem(15) rem(4)
				
				+below(960px) {
					color: #fff
					padding: rem(18) rem(10) rem(14) 0
				}
			}
			
			+below(960px) {
				border: 0
				border-bottom: 1px solid #202226
			}
			
			&:hover,
			&.-state-active {
				background-color: #fff
				border-color: #fff
				
				a {
					color: #000
					box-shadow: none
				}
				
				+below(960px) {
					border: 0
					border-bottom: 1px solid #202226
					background-color: transparent
					
					a {
						color: $aqua
					}
				}
			}
		}

		&.-state-active {

			a {
				color: #000
			}

			+below(960px) {
				display: block
			}
		}

		&__link {
			margin-right: rem(-4)
			padding: rem(14) rem(10) rem(20)
			letter-spacing: rem(.5)
			transition: color 200ms ease-in-out, box-shadow 200ms ease-in-out

			+below(960px) {
				padding: rem(18) rem(10) rem(14) 0
			}

			&:hover {
				box-shadow: inset 0px -3px 0px 0px #fff
				
				+below(960px) {
					color: $aqua
					box-shadow: none
				}
			}
		}
	}
}

.secondary-nav {
	float: right
	margin: rem(10) 0

	+below(480px) {
		width: rem(195)
	}

	+below(320px) {
		width: rem(185)
	}

	&__item {
		font-family: $montserrat-font-family
		font-size: rem(11)
		font-weight: 400
		color: #6c747b
		text-transform: uppercase
		transition: color 200ms ease-in-out

		+below(960px) {
			font-size: rem(14)
			border: 0
		}

		&:last-child {
			padding-right: 0
		}

		&__link {
			padding: rem(10) rem(15) rem(8) 0

			&:hover {
				color: $aqua

				.icon__heart {
					@extends .icon__heart-full
				}
			}
		}

		.icon {
			vertical-align: middle
			margin-right: rem(3)
		}
	}
}

.hamburger {
	display: none
	margin-top: rem(16)
	border: 2px solid #6a7178
	padding: rem(5) 0
	width: rem(90)
	text-align: center
	font-family: $helvetica-font-family
	font-size: rem(13)
	color: #6a7178
	text-transform: uppercase
	cursor: pointer

	+below(960px) {
		float: right
		display: block
		margin-right: rem(10)
	}

	+below(480px) {
		border-width: 1px
		width: rem(60)
		font-size: rem(10)
	}
}

.hamburger__image {
	display: inline-block
	position: relative
	margin-right: rem(2)
    margin-bottom: rem(4)
    width: rem(12)
    height: rem(2)
    text-align: initial
    background: #6a7178
    transition: all 300ms ease
    backface-visibility: hidden

    +below(480px) {
	    margin-bottom: rem(3)
	    height: 1px
	    width: rem(10)
    }

    &::after,
    &::before {
	    content: ''
		display: inline-block
	    position: absolute
	    margin-bottom: rem(4)
	    width: rem(12)
	    height: rem(2)
	    background-color: #6a7178
	    transition: all 300ms ease
	    backface-visibility: hidden

	    +below(480px) {
		    height: 1px
		    width: rem(10)
	    }
    }

    &::after {
	    top: rem(4)

	    +below(480px) {
			top: rem(3)
	    }
    }

    &::before {
	    top: rem(-4)

	    +below(480px) {
		    top: rem(-3)
	    }
    }
}

.hamburger.-state-active {
	.hamburger__image {
		background-color: transparent

		&::after {
			width: rem(13)
	    	transform: rotate(45deg) translate(-0.8px, -3.8px)

	    	+below(480px) {
		    	width: rem(11)
				transform: rotate(45deg) translate(0, -4.5px)
	    	}
		}

		&::before {
			width: rem(13)
			transform: rotate(-45deg) translate(-2px, 5px)

			+below(480px) {
				width: rem(11)
				transform: rotate(-45deg) translate(0, 4px)
			}
		}
	}
}

.header__nav__description {
	display: none

	+below(960px) {
		float: left
		display: inline-block
		font-family: $caslon-font-family
		font-size: rem(18)
		font-weight: 600
		font-style: italic
		letter-spacing: rem(1)
		color: #6a7178
	}
}

.main-nav__container,
.secondary-nav__container {
	cf()
	display: inline-block

	.header__nav__description {
		margin-top: rem(20)
		margin-right: rem(15)
	}
}

.secondary-nav__container {
	+below(480px) {
		position: relative
		padding-bottom: rem(25)
	}
}

.main-nav__container {
	+below(960px) {
		float: left
		margin-left: rem(50)
		width: rem(350)
	}

	+below(780px) {
		margin-left: 0
	}

	.header__nav__description {
		margin-right: rem(40)

		+below(690px) {
			margin-right: rem(50)
		}
	}
}

.secondary-nav__container {
	float: right
	
	+below(960px) {
		margin-right: rem(50)
		max-width: rem(310)
	}

	+below(780px) {
		margin-right: 0
	}

	+below(690px) {
		span(12/12)
	}
}

.site-search {
	position: relative

	.header__nav__description {
		position: absolute
		top: rem(-10)
		left: rem(-115)
		text-transform: none
		
		+below(480px) {
			top: rem(-8)
			left: rem(10)
		}
	}
}

// !Quick Jump
// ==|=========================================================================
.quick-nav__container {
	float: left
	width: 30%
	text-align: right
	transition: top 200ms ease-in-out

	+below(960px) {
		position: fixed
		z-index: 200
		top: rem(60)
		width: 100%
		text-align: center
		background-color: #fff
	}

	+below(480px) {
		top: rem(54)
	}

	&.-fixed {
		position: fixed
		top: rem(70)
	}

	&.-is-bottom {
		position: absolute
		top: auto
		bottom: 0
	}
}

.is-collapsed {
	.quick-nav__container {
		&.-fixed {
			top: rem(40)
		}
		
		&.-is-bottom {
			position: absolute
			top: auto
			bottom: 0
		}
	}
}

.quick-nav {
	display: inline-block
	margin: 0
	list-style-type: none

	+below(960px) {
		padding: rem(20)
		width: 100%
		text-align: center
	}
	
	&__jump-to {
		position: relative
		display: block
		margin-top: rem(65)
		max-width: rem(165)
		font-family: $caslon-font-family
		font-size: rem(26)
		font-weight: 600
		font-style: italic
		color: $aqua
		white-space: normal
		text-decoration: none
		
		+below(960px) {
			display: none
		}
		
		&::before {
			content: ''
			position: absolute
			top: rem(-18)
			right: 0
			opacity: .3
			width: rem(80)
			height: 1px
			background-color: #a89d9d
		}
		
		&::after {
			content: url(../images/svg/icon-arrow-left-huge.svg)
			position: absolute
			top: 0
			left: 0
			
			+above(1250px) {
				top: rem(6)
			}
		}
	}

	&__wrapper {
		+below(960px) {
			overflow: hidden
			max-height: 999px
			height: 100%
			transition: max-height 500ms ease-in-out
		}

		&.-hidden {
			+below(960px) {
				max-height: 0
			}
		}
	}

	&__open {
		display: none
		position: relative
		text-align: left
		background-color: $aqua
		box-shadow: 0 1px 0 #017579
		text-decoration: none
		transition: all 200ms ease-in-out

		+below(960px) {
			display: block
		}

		&__text {
			margin: 0
			padding: rem(12) rem(10)
			font-family: $caslon-font-family
			font-size: rem(17)
			font-weight: 600
			font-style: italic
			color: #fff

			span {
				font-family: $montserrat-font-family
				font-size: rem(12)
				font-weight: 400
				font-style: normal
				text-transform: uppercase

				+below(960px) {
					margin-left: rem(8)
				}
			}
		}

		&.-hidden {
			display: none
			opacity: 0
			visibility: none
		}

		.icon {
			position: absolute
			top: rem(10)
			right: rem(20)
		}
	}

	&__title {
		position: relative
		margin-bottom: rem(5)
		text-align: right
		font-family: $caslon-font-family
		font-size: rem(26)
		font-weight: 600
		font-style: italic
		color: #333

		+below(960px) {
			text-align: center
		}

		&::after {
			content: ''
			display: block
			position: absolute
			right: 0
			bottom: rem(-10)
			width: rem(80)
			height: 1px
			background-color: #eaeaea

			+below(960px) {
				content: none
			}
		}
	}

	&__item {
		margin: rem(18) 0
		cursor: pointer

		+below(960px) {
			margin: rem(10) 0
			col(1/3, cycle: 3)
		}

		+below(480px) {
			col(1/2, uncycle: 3, cycle: 2)
		}

		&:hover {
			.quick-nav__text {
				color: $aqua
			}

			.quick-nav__bullet {
				border-color: $aqua
				background-color: $aqua
			}
		}

		&.-is-current {
			.quick-nav__text {
				color: #fff
				background-color: $aqua

				&::after {
					content: ''
					position: absolute
					top: calc(50% - 8px)
					right: rem(-8)
					width: 0
					height: 0
					border-style: solid
					border-width: 8px 0 8px 8px
					border-color: transparent transparent transparent $aqua

					+below(960px) {
						display: none
					}
				}
			}

			.quick-nav__bullet {
				border-color: $aqua
				background-color: $aqua
			}
		}
	}

	&__text {
		position: relative
		margin-right: rem(10)
		border-radius: 5px
		padding: rem(12) rem(10) rem(8) rem(15)
		font-family: $montserrat-font-family
		font-size: rem(12)
		font-weight: 400
		text-transform: uppercase
		color: #808080
		text-decoration: none
		transition: color 200ms ease-in-out

		+below(960px) {
			padding: rem(12) rem(10) rem(10)
		}
	}

	&__bullet {
		display: inline-block
		margin-right: rem(-30)
		border: 1px solid #a89d9d
		border-radius: 50%
		width: 9px
		height: 9px
		transition: background-color 300ms ease-in

		+below(960px) {
			display: none
		}
	}
}
