// Name: Common
// Author: Graffino (http://www.graffino.com)

// !Navigation
// ==|=========================================================================
.main-nav,
.secondary-nav {
	margin: 0
	padding: 0
	list-style-type: none

	.favourites-counter {
		color: #ffa902
	}

	&__item {
		display: inline-block

		+below(960px) {
			display: block
			border-bottom: 1px solid #202226

			&:last-child {
				border: 0
			}
		}

		&__link {
			position: relative
			display: block
			color: inherit
			text-decoration: none
		}
	}
}

.main-nav {
	position: absolute
	top: rem(11)
	right: 0
	left: 0
	display: block
	margin: 0 auto
	width: 50%
	text-align: center

	+below(960px) {
		position: static
		display: inline-block
		margin: rem(5) 0 rem(10)
		width: rem(180)
		text-align: left
	}

	&__item {
		color: #fff
		font-family: $caslon-font-family
		font-size: rem(15)
		font-weight: 700
		font-style: normal
		text-transform: uppercase

		&.-state-active {
			color: $aqua
		}

		&.-state-current {
			display: none
			color: #3c4045

			+below(960px) {
				display: block
			}

			.main-nav__item__link {
				&:hover {
					color: #3c4045
				}
			}
		}

		&--cta {
			position: relative
			border: 2px solid currentColor
			border-radius: 3px
			color: $aqua

			+below(960px) {
				border: 0
				border-bottom: 1px solid #202226
				border-radius: 0
				color: #fff
			}

			&::after {
				content: ''
				display: inline-block
				position: absolute
				top: rem(12)
				right: rem(10)
				width: 0
				height: 0
				border-style: solid
				border-width: rem(6) rem(3.5) 0
				border-color: currentColor transparent transparent transparent
				transition: transform 300ms ease-in-out

				+below(960px) {
					top: rem(22)
					border-width: rem(6) rem(5) 0
					transform: rotate(-90deg)
				}
			}

			&:hover,
			&.-state-active {
				color: #000
				border-color: #fff
				background-color: #fff

				+below(960px) {
					color: $aqua
					background-color: transparent
					border-color: #202226
				}
			}

			&.-state-active {
				&::after {
					border-top-color: #000
					transform: rotate(180deg)

					+below(960px) {
						transform: rotate(-90deg)
						border-top-color: currentColor
					}
				}
			}

			.main-nav__item__link {
				padding: rem(9) rem(25) rem(4) rem(9)

				+below(960px) {
					padding: rem(18) rem(10) rem(14) 0
				}

				&:hover {
					box-shadow: none
				}
			}
		}

		&__link {
			margin-right: rem(-4)
			padding: rem(14) rem(10) rem(20)
			letter-spacing: rem(.5)
			transition: color 200ms ease-in-out, box-shadow 200ms ease-in-out

			+below(960px) {
				padding: rem(18) rem(10) rem(14) 0
			}

			&:hover {
				box-shadow: inset 0px -3px 0px 0px #fff

				+below(960px) {
					color: $aqua
					box-shadow: none
				}
			}
		}
	}
}

.secondary-nav {
	float: right
	margin: rem(10) 0

	+below(480px) {
		width: rem(195)
	}

	+below(320px) {
		width: rem(185)
	}

	&__item {
		font-family: $montserrat-font-family
		font-size: rem(11)
		font-weight: 400
		color: #6c747b
		text-transform: uppercase
		transition: color 200ms ease-in-out

		+below(960px) {
			font-size: rem(14)
			border: 0
		}

		&:last-child {
			padding-right: 0
		}

		&__link {
			padding: rem(10) rem(15) rem(8) 0

			&:hover {
				color: $aqua

				.icon__heart {
					@extends .icon__heart-full
				}
			}
		}

		.icon {
			vertical-align: middle
			margin-right: rem(3)
		}
	}
}

.hamburger {
	display: none
	margin-top: rem(16)
	border: 2px solid #6a7178
	padding: rem(5) 0
	width: rem(90)
	text-align: center
	font-family: $helvetica-font-family
	font-size: rem(13)
	color: #6a7178
	text-transform: uppercase
	cursor: pointer

	+below(960px) {
		float: right
		display: block
		margin-right: rem(10)
	}

	+below(480px) {
		border-width: 1px
		width: rem(60)
		font-size: rem(10)
	}
}

.hamburger__image {
	display: inline-block
	position: relative
	margin-right: rem(2)
    margin-bottom: rem(4)
    width: rem(12)
    height: rem(2)
    text-align: initial
    background: #6a7178
    transition: all 300ms ease
    backface-visibility: hidden

    +below(480px) {
	    margin-bottom: rem(3)
	    height: 1px
	    width: rem(10)
    }

    &::after,
    &::before {
	    content: ''
		display: inline-block
	    position: absolute
	    margin-bottom: rem(4)
	    width: rem(12)
	    height: rem(2)
	    background-color: #6a7178
	    transition: all 300ms ease
	    backface-visibility: hidden

	    +below(480px) {
		    height: 1px
		    width: rem(10)
	    }
    }

    &::after {
	    top: rem(4)

	    +below(480px) {
			top: rem(3)
	    }
    }

    &::before {
	    top: rem(-4)

	    +below(480px) {
		    top: rem(-3)
	    }
    }
}

.hamburger.-state-active {
	.hamburger__image {
		background-color: transparent

		&::after {
			width: rem(13)
	    	transform: rotate(45deg) translate(-0.8px, -3.8px)

	    	+below(480px) {
		    	width: rem(11)
					transform: rotate(45deg) translate(0, -4.5px)
	    	}
		}

		&::before {
			width: rem(13)
			transform: rotate(-45deg) translate(-2px, 5px)

			+below(480px) {
				width: rem(11)
				transform: rotate(-45deg) translate(0, 4px)
			}
		}
	}
}

.header__nav__description {
	display: none

	+below(960px) {
		float: left
		display: inline-block
		font-family: $caslon-font-family
		font-size: rem(18)
		font-weight: 600
		font-style: italic
		letter-spacing: rem(1)
		color: #6a7178
	}
}

.main-nav__container,
.secondary-nav__container {
	cf()
	display: inline-block

	.header__nav__description {
		margin-top: rem(20)
		margin-right: rem(15)
	}
}

.secondary-nav__container {
	+below(480px) {
		position: relative
		padding-bottom: rem(25)
	}
}

.main-nav__container {
	span(11/20)

	+below(960px) {
		float: left
		margin-left: rem(50)
		width: rem(350)
	}

	+below(780px) {
		margin-left: 0
	}

	+below(690px) {
		span(20/20)
	}

	.header__nav__description {
		margin-right: rem(40)

		+below(690px) {
			margin-right: rem(50)
		}
	}
}

.secondary-nav__container {
	float: right

	+below(960px) {
		margin-right: rem(50)
		max-width: rem(310)
	}

	+below(780px) {
		margin-right: 0
	}

	+below(690px) {
		span(20/20)
	}
}

.site-search {
	position: relative

	.header__nav__description {
		position: absolute
		top: rem(-10)
		left: rem(-115)
		text-transform: none

		+below(480px) {
			top: rem(-8)
			left: rem(10)
		}
	}
}

// !Quick Jump
// ==|=========================================================================
.quick-nav__container {
	float: left
	opacity: 1
	visibility: visible
	width: 20%
	text-align: right
	transition: opacity 200ms ease-in-out, visibility 200ms ease-in-out

	+below(960px) {
		position: fixed
		z-index: 200
		top: rem(60)
		width: 100%
		text-align: center
	}

	+below(480px) {
		top: rem(54)
	}

	&.-fixed {
		position: fixed !important
		z-index: 100
		top: rem(100) !important

		+below(960px) {
			top: rem(60) !important
		}

		+below(480px) {
			top: rem(54) !important
		}
	}

	&.-is-bottom {
		position: absolute
		z-index: 100

		+below(960px) {
			opacity: 0
			visibility: hidden
		}
	}
}

.quick-nav {
	display: inline-block
	margin: 0
	list-style-type: none

	+below(960px) {
		padding: rem(20)
		width: 100%
		text-align: center
	}

	&__jump-to {
		position: relative
		display: block
		margin-top: rem(65)
		max-width: rem(165)
		font-family: $caslon-font-family
		font-size: rem(26)
		font-weight: 600
		font-style: italic
		color: $aqua
		white-space: normal
		text-decoration: none

		+below(960px) {
			display: none
		}

		&::before {
			content: ''
			position: absolute
			top: rem(-18)
			right: 0
			opacity: .3
			width: rem(80)
			height: 1px
			background-color: #a89d9d
		}

		&::after {
			content: url(../images/svg/icon-arrow-left-huge.svg)
			position: absolute
			top: 0
			left: 0

			+above(1250px) {
				top: rem(6)
			}
		}
	}

	&__wrapper {
		+below(960px) {
			overflow: hidden
			max-height: 999px
			height: 100%
			background-color: #fff
			transition: max-height 500ms ease-in-out
		}

		&.-hidden {
			+below(960px) {
				max-height: 0
			}
		}
	}

	&__open {
		display: none
		position: relative
		text-align: left
		background-color: rgba(25, 29, 33, 0.9)
		box-shadow: 0 1px 0 #11181e, inset 0 1px 0 #11181e
		text-decoration: none
		transition: all 200ms ease-in-out

		+below(960px) {
			display: block
		}

		&__text {
			margin: 0
			padding: rem(12) rem(10)
			font-family: $montserrat-font-family
			font-size: rem(12)
			font-weight: 400
			color: #7a8b9b
			text-transform: uppercase
		}

		&.-hidden {
			display: none
			opacity: 0
			visibility: none
		}

		.icon {
			position: absolute
			top: rem(12)
			right: rem(20)
		}
	}

	&__title {
		position: relative
		margin-bottom: rem(5)
		text-align: right
		font-family: $caslon-font-family
		font-size: rem(26)
		font-weight: 600
		font-style: italic
		color: #666

		+below(960px) {
			text-align: center
		}

		&::after {
			content: ''
			display: block
			position: absolute
			right: 0
			bottom: rem(-10)
			width: rem(80)
			height: 1px
			background-color: #eaeaea

			+below(960px) {
				content: none
			}
		}
	}

	&__item {
		margin: rem(18) 0
		white-space: nowrap
		cursor: pointer

		+below(960px) {
			margin: rem(10) 0
			col(1/4, cycle: 4)
		}

		+below(670px) {
			col(1/2, uncycle: 4, cycle: 2)
		}

		+below(375px) {
			stack()
			margin: 0
		}

		&:hover {
			.quick-nav__text {
				color: $aqua
			}

			.quick-nav__bullet {
				border-color: $aqua
				background-color: $aqua
			}
		}

		&.-is-current {
			.quick-nav__text {
				color: #fff
				background-color: $aqua

				&::after {
					content: ''
					position: absolute
					top: calc(50% - 8px)
					right: rem(-8)
					width: 0
					height: 0
					border-style: solid
					border-width: 8px 0 8px 8px
					border-color: transparent transparent transparent $aqua

					+below(960px) {
						display: none
					}
				}
			}

			.quick-nav__bullet {
				border-color: $aqua
				background-color: $aqua
			}
		}
	}

	&__text {
		position: relative
		margin-right: rem(10)
		border-radius: 5px
		padding: rem(12) rem(10) rem(8) rem(15)
		font-family: $montserrat-font-family
		font-size: rem(12)
		font-weight: 400
		text-transform: uppercase
		color: #808080
		text-decoration: none
		transition: color 200ms ease-in-out

		+below(960px) {
			padding: rem(12) rem(10) rem(10)
			white-space: nowrap
		}

		+below(375px) {
			display: block
			margin: 0
		}
	}

	&__bullet {
		display: inline-block
		margin-right: rem(-30)
		border: 1px solid #a89d9d
		border-radius: 50%
		width: 9px
		height: 9px
		transition: background-color 300ms ease-in

		+below(960px) {
			display: none
		}
	}
}

// !Mega Navigation
// ==|=========================================================================
.mega-nav__container::-webkit-scrollbar {
    display: none
}

.mega-nav__container {
	position: absolute
	z-index: -1
	visibility: hidden
	opacity: 0
	top: rem(60)
	left: 0
	padding-top: rem(35)
	width: 100%
	height: rem(500)
	background-color: rgba(16, 19, 22, 0.98)

	+below(960px) {
	    top: rem(-60)
		left: -999px
		opacity: 1
		visibility: visible
		overflow-x: hidden
		overflow-y: scroll
		padding-top: 0
	    height: 103%
		background-color: #fff
	}

	+below(690px) {
		height: 100vh
	}

	+below(480px) {
		top: rem(-30)
	}

	&.-state-active {
		opacity: 1
		visibility: visible
		transition: opacity 300ms ease-in-out, visibility 300ms ease-in-out, left 300ms ease-in-out

		+below(960px) {
			z-index: 300
			left: 0
			top: 0
		}
	}
}

.mega-nav__buttons {
	opacity: 0
	visibility: hidden
	position: absolute
	z-index: 400
	padding: rem(20) rem(10)
	width: 100%
	background-color #00878b

	+below(960px) {
		opacity: 1
		visibility: visible
	}

	&__wrapper {
		cf()

		margin: 0 auto
		max-width: rem(280)

		+below(480px) {
			max-width: rem(250)
		}
	}
}

.mega-nav__button {
	position: relative
	font-family: $caslon-font-family
	font-size: rem(15)
	line-height: 1
	font-style: italic
	color: #fff
	text-decoration: none
	transition: color 100ms ease-in-out

	&::after {
		content: ''
		position: absolute
		top: rem(-1)
		width: rem(13)
		height: rem(15)
		background-repeat: no-repeat
		background-size: contain
	}

	&::before {
		content: ''
		position: absolute
	    opacity: .2
		top: rem(-8)
	    right: rem(-28)
	    background-color: #fff
	    width: 1px
	    height: rem(30)

		+below(480px) {
			right: rem(-13)
		}
	}

	&:last-child::before {
		content: none
	}

	span {
		font-size: rem(12)
		font-weight: 700
		font-style: normal
		text-transform: uppercase
	}

	&:hover {
		color: #000
	}

	&.-left {
		float: left

		&::after {
			left: rem(-20)
			background-image: url('../images/svg/icon-arrow-left-alt-white.svg')
		}

		&:hover {
			&::after {
				background-image: url('../images/svg/icon-arrow-left-alt.svg')
			}
		}
	}

	&.-right {
		float: right

		&::after {
			right: rem(-20)
			background-image: url('../images/svg/icon-arrow-right-alt-white.svg')
		}

		&:hover {
			&::after {
				background-image: url('../images/svg/icon-arrow-right-alt.svg')
			}
		}
	}
}

.is-collapsed .mega-nav__container {
	top: rem(30)

	+below(960px) {
		top: rem(-60)
	}
}

.mega-nav {
	margin-left: auto
	margin-right: auto
	padding-left: 0
	max-width: rem(1200)

	+below(960px) {
		margin-bottom: 0
		padding: rem(50) rem(10) 0
	}

	&__item {
		display: inline-block
		vertical-align: top

		+below(960px) {
			display: block
		}
	}

	&__link {
		color: inherit
		text-decoration: none
		transition: color 100ms ease-in-out

		+below(960px) {
			display: block
			padding-top: rem(18)
			padding-bottom: rem(12)
		}
	}
}

.mega-sub {
	position: relative
	margin: rem(18) 0
	list-style-type: none

	&__item:nth-last-child(2) {
		+below(960px) {
			border-bottom: 0
		}
	}

	&.-double {
		columns: 2;

		+below(960px) {
			columns: initial;
		}
	}

	&.-last {
		.mega-sub__item--header {
			+below(960px) {
				border-bottom: none
			}
		}

		&.-is-expanded {
			.mega-sub__item--header {

				+below(960px) {
					border-bottom: 1px solid #eaeaea
				}
			}
		}
	}

	.button__expand {
		display: none
		position: absolute
		top: rem(11)
		right: 0
		margin-top: 0
		padding:  rem(4) rem(10) rem(4) 0
		width: rem(65)
		text-align: center
		font-size: rem(9)

		+below(960px) {
			display: block
			margin: rem(5) 0 rem(10)
		}

		&::after {
			top: rem(7)
			right: rem(5)
			border-width: 4px 3px 0px 3px
		}

		&.-is-expanded {
			padding-right: 0
			padding-left: rem(10)

			&::after {
				content: url(../images/svg/icon-close-small.svg)
				top: 0
				right: auto
				left: rem(8)
				margin-top: rem(5)
				border: 0
				transform: none
			}

			&:hover {
				&::after {
					content: url(../images/svg/icon-close-small-blue.svg)
				}
			}
		}
	}

	&:last-child {
		+below(960px) {
			border-bottom: 0
		}
	}

	+below(960px) {
		overflow: hidden
		margin: 0
		padding-left: 0
		max-height: rem(50)
		transition: max-height 300ms ease-in-out
	}

	&.-is-expanded {
		+below(960px) {
			max-height: 2999px
			border-bottom: 1px solid #eaeaea

			.mega-sub__item--header {
				&::after,
				&::before {
					top: 100%
					left: rem(30)
					border: solid transparent
					content: ''
					height: 0
					width: 0
					position: absolute
					pointer-events: none
				}

				&::after {
					margin-left: 1px
					border-color: transparent
					border-top-color: #fff
					border-width: 9px 12px 12px
				}

				&::before {
					border-color: transparent
					border-top-color: #eaeaea
					border-width: 10px 13px 13px
				}
			}
		}
	}

	&__item {
		position: relative
		padding: rem(5) 0 rem(5) rem(10)
		font-family: $helvetica-font-family
		font-size: rem(12)
		font-weight: 400
		color: #fff

		+below(960px) {
			margin-left: rem(60)
			border-bottom: 1px solid #eaeaea
			padding: 0
			font-family: $montserrat-font-family
			font-size: rem(14)
			font-weight: 400
			color: #8c8c8c
			text-transform: uppercase
		}


		&__section {
			display: inline-block
			vertical-align: top

			&.-last {
				margin-left: rem(50)

				+below(960px) {
					margin-left: 0
				}

				ul {
					li:last-child {
						+below(960px) {
							border-bottom: none
						}
					}
				}
			}

			ul {
				list-style-type: none
				padding-left: 0

				+below(960px) {
					display: block
				}

				li:nth-last-child(2) {
					+below(960px) {
						border-bottom: 1px solid #eaeaea
					}
				}
			}

			+below(960px) {
				display: block
			}
		}

		&__new {
			margin-left: rem(10)
			color: #f5d20d
			text-transform: uppercase

			+below(960px) {
				display: none
			}

			&:hover {
				cursor: pointer
			}
		}

		&__count {
			display: none
			top: rem(-7)
			margin-left: rem(3)

			+below(960px) {
				display: inline-block
			}
		}

		&:hover {
			color: $aqua
		}

		&.a-arrow-fade-in {
			&:hover {
				&::after {
					+below(960px) {
						content: none
					}
				}
			}
		}

		&::before {
			content: "• "
			color: currentColor

			+below(960px) {
				content: none
			}
		}

		&--sub {
			display: none

			+below(960px) {
				display: block
			}
		}

		&--header {
			font-family: $montserrat-font-family
			font-size: rem(14)
			font-weight: 700
			text-transform: uppercase
			color: #00a2a7

			+below(960px) {
				margin-left: 0
				border-bottom: 1px solid #eaeaea
				padding-top: rem(15)
				padding-bottom: rem(15)
				font-family: $caslon-font-family
				font-size: rem(15)
				font-weight: 700
				color: #191d21
				text-transform: uppercase
			}

			&:hover {
				&::after {
					content: none
				}

				+below(960px) {
					color: inherit
				}
			}

			&::before {
				content: none
			}
		}
	}
}
