// Name: Filters
// Author: Graffino (http://www.graffino.com)
// !Filters
// ==|=========================================================================
.filter {
	position: relative
	z-index: 2

	+below(670px) {
		padding-bottom: rem(50)
	}

	&__form {
		cf()
		position: relative
		z-index: 100
		text-align: left

		+below(960px) {
			margin: 0 auto
		}

		+below(770px) {
			max-width: rem(300)
		}
	}

	&__options {
		list-style-type: none
		margin: 0
		padding: 0

		&.-is-expandable {
			overflow: hidden
			max-height: rem(30)
			height: 100%
			transition: max-height 300ms ease-in-out

			&.-expanded {
				max-height: 999px
			}
		}
	}

	&__options--letter {
		position: relative
		top: -15px
		margin-bottom: 35px

		.form--letter__label {
			margin-right: rem(15)

			+below(960px) {
				font-size: rem(17)
				position: static
			}
		}
	}

	.filter__option--letter {
		margin-right: rem(30)

		+below(670px) {
			display: block
			text-align: left
		}

		&:first-child {
			+below(960px) {
				margin-right: rem(10)
			}

			+below(670px) {
				float: left
			}
		}

		&:last-child {
			margin-right: 0
		}
	}

	&__options.-rows-2 {
		.filter__option {
			width: rem(150)
		}
	}

	&__option {
		display: inline-block
		margin: 0 rem(12) rem(10) 0

		&__label {
			font-family: $montserrat-font-family
			font-size: rem(12)
			font-weight: 400
			color: #808080
			text-transform: uppercase
			white-space: nowrap
			cursor: pointer

			+below(960px) {
				font-size: rem(11)
			}
		}
	}

	&__input {
		z-index: 2
		border: 0
		padding-right: rem(30)

		+below(960px) {
			padding-right: rem(45)
		}
	}

	&__title {
		margin: 0 0 rem(5)
		font-family: $montserrat-font-family
		font-size: rem(16)
		font-weight: 700
		color: $dark-gray
		text-transform: uppercase

		+below(960px) {
			margin-bottom: rem(20)
		}
	}

	&__subtitle {
		font-family: $bebas-font-family
		font-size: rem(24)
		font-weight: 400
		color: #808080
		text-transform: uppercase
	}

	&__input__container {
		width: rem(160)

		+below(960px) {
			margin-right: 0
			margin-left: 0
			width: rem(130)
			height: rem(45)
			line-height: rem(42)
		}

		+below(670px) {
			width: rem(145)
		}

		+below(480px) {
			height: rem(47)
		}

		// Icon separator within inputs
		&::after {
			content: ''
			position: absolute
			z-index: 3
			right: rem(30)
			top: rem(8)
			width: 1px
			height: rem(20)
			background-color: #dfdfdf

			+below(960px) {
				height: rem(35)
				top: rem(5)
				right: rem(35)
			}
		}

		&--alt {
			border-color: #bfbfbf
			padding: 0
			max-width: rem(225)
			width: 100%
			background-color: #ececec

			&::after {
				+below(960px) {
					top: 0
					height: 100%
					background-color: #bfbfbf
				}
			}

			&.-anchor-counter {
				float: none
			}
		}

		&.-anchor-start-date,
		&.-anchor-end-date {
			+below(670px) {
				text-align: left
			}
		}

		&.-anchor-end-date {
			+below(770px) {
				margin-left: rem(5)
			}
		}

		&.-anchor-destination {
			+below(960px) {
				width: rem(160)
			}

			+below(770px) {
				width: rem(130)
			}

			+below(670px) {
				width: 100%
			}
		}

		&.-anchor-counter {
			+below(960px) {
				margin-top: rem(30)

				&::after {
					content: none
				}

				.-has-select2 {
					display: none !important
				}
			}

			+below(670px) {
				&:first-child {
					margin-right: rem(5)
					margin-bottom: rem(5)
					margin-left: rem(5)
					float: left
				}
			}

			.icon {
				right: rem(10)
				z-index: 1

				+below(960px) {
					margin: 0
				}
			}

			.icon__option {
				+below(960px) {
					display: none
				}
			}

			select {
				+below(960px) {
					width: rem(36)
				}

				+below(670px) {
					padding-left: rem(25)
				}
			}
		}


		a {
			display: block
			height: 100%
			color: inherit
			text-decoration: none
		}

		.icon__calendar,
		.icon__option,
		.icon__globe {
			z-index: 3
			position: absolute
			top: rem(8)
			right: rem(6)

			+below(960px) {
				top: rem(13)
				right: rem(10)
			}
		}

		&__handler {
			display: none
			vertical-align: middle
			height: rem(43)
			width: rem(40)
			background-color: #fff

			+below(960px) {
				display: inline-block
			}

			&.-anchor-plus {
				position: absolute
				right: 0
				border-left: 1px solid #dfdfdf

				.icon {
					margin: rem(14) auto 0
					display: block
					vertical-align: middle
				}
			}
			&.-anchor-minus {
				position: absolute
				left: 0
				border-right: 1px solid #dfdfdf

				.icon {
					margin: rem(20) auto 0
					display: block
					vertical-align: middle
				}
			}
		}
	}

	&__button__wrapper {
		display: inline-block

		.button {
			width: 100%
		}

		+below(770px) {
			margin-top: rem(5)
			width: 100%
		}
	}


	.filter__button__wrapper {
		.button {
			padding-right: rem(31)
			padding-left: rem(31)

			+below(960px) {
				padding: rem(10) rem(25)
			}
		}
	}

	// Counter label
	// Visible below 960w
	&__input__name {
		display: none
		position: absolute
		left: rem(-60)
		margin: 0
		text-transform: uppercase

		+below(960px) {
			display: block
		}

		+below(670px) {
			left: rem(-140)
			line-height: rem(45)

			span {
				display: none
			}
			// Replaces the descriptor text below 960w
			&::after {
				content: 'Number of guests'
			}
		}
	}

	.filter__input__counter {
		display: none
		position: absolute
		top: 0
		left: rem(40)
		border: 0
		border-radius: 0
		padding: rem(10)
		width: rem(48)
		height: rem(43)
		text-align: center
		background-color: #fff
		cursor: pointer

		+below(960px) {
			display: inline-block
		}

		+below(770px) {
			left: rem(48)
			margin: 0 rem(5)
			width: rem(36)
		}
	}
}

.filter.-orientation-vertical {
	margin-left: rem(20)
	border: 0
	padding: rem(15) rem(5) rem(25)
	max-width: rem(220)
	text-align: center
	background-color: $gray

	&.-border-top {
		border-top: 3px solid $aqua
	}

	.filter__input__container {
		+below(770) {
			width: rem(145)
		}

		&.-anchor-destination {
			+below(770px) {
				width: 100%
			}
		}
	}

	.filter__input__counter {
		+below(770px) {
			left: rem(48)
		}
	}

	.filter__input__container.-anchor-counter {
		+below(960px) {
			margin-top: rem(5)
			margin-left: rem(60)
		}
	}

	&::after {
		content: ''
		position: absolute
		top: rem(-6.5)
		left: rem(-6.5)
		border: rem(8) double $gray
		width: 99%
		height: 99%
		background: transparent

		+below(960px) {
			content: none
		}
	}

	+below(960px) {
		margin: 0
		padding-top: rem(20)
		padding-bottom: rem(15)
		max-width: 100%
		text-align: center
	}

	+below(770px) {
		padding-bottom: rem(50)
		max-width: 100%
	}

	+below(375px) {
		padding: rem(20) 0 rem(50)
	}

	.filter__form {
		text-align: center
	}

	.filter__title {
		margin: 0 auto rem(10)
		max-width: rem(180)
		font-size: rem(14)

		+below(960px) {
			margin-bottom: rem(15)
			max-width: 100%
		}
	}

	.filter__button__wrapper {
		+above(960px) {
			margin-top: rem(10)
			max-width: rem(160)
			width: 100%
		}

		.button {
			padding: rem(8) rem(42) rem(6)

			+below(960px) {
				padding: rem(10) rem(12)
			}

			+below(770px) {
				padding: rem(10) rem(5)
			}

			+below(670px) {
				width: 100%
			}
		}
	}
}

.filter__input__container__handler {
	color: transparent
}

.-has-select2 {
	padding: 0
}

.filter.filter--booking {
	transition: top .2s ease-out

	&::before {
		content: ""
		position: absolute
		z-index: 200
		right: 0
		bottom: 0
		width: rem(122)
		height: rem(122)
		background-image: url('../images/svg/no-sprite/stamp.svg')
		background-repeat: no-repeat
	}

	+above(960px) {
		margin: rem(6)
		padding: rem(30) 0 0
		max-width: rem(340)
		background-color: rgba($gray, .9)

		&::after {
			border-color: rgba($gray, .9)
			top: rem(-8)
			left: rem(-8)
			width: 100%
			height: 100%
		}

		.filter__input__container {
			margin: 0
			max-width: rem(110)

			.icon__calendar {
				right: rem(3)
			}

			&::after {
				right: rem(23)
			}

			.filter__input {
				padding-left: rem(5)
				font-size: rem(12)
			}

			&.-anchor-counter {
				max-width: rem(90)

				.filter__input {
					padding-left: 0
				}

				&::after {
					top: 0
					right: rem(20)
					height: 100%
				}

				.icon__option {
					top: rem(7)
					right: rem(5)
				}
			}
		}
	}

	+below(960px) {
		overflow: hidden
		padding: 0
		background-position: 103% 113%
		background-size: 18%

		.filter__form {
			max-width: 100%
		}

		.filter__button__wrapper {
			margin: rem(15) 0 0
		}
	}

	+below(730px) {
		padding: 0
		background-position: 113% 110%
		background-size: 50%

		.filter__title {
			margin-bottom: rem(10)
		}

		.filter__input__container {
			width: rem(145)

			.filter__input__counter {
				left: rem(46)
			}
		}
	}

	+below(480px) {
		background-position: 113% 110%
		background-size: 46%
	}

	&.-is-past-availability {
		.filter__button__wrapper.-secondary {
			display: none;
		}
	}

	.filter__input__container.-anchor-counter .filter__input__counter {
		+below(670px) {
			left: rem(36)
		}
	}

	.filter__input__container.-anchor-counter .filter__input__counter {
		+below(670px) {
			left: rem(42)
		}
	}

	.disclaimer {
		clear: both
		position: relative
		margin: rem(20) 0 rem(5)
		font-size: rem(16)

		&__title {
			display: block
			margin-bottom: rem(5)
			font-family: $montserrat-font-family
			font-size: rem(12)
			font-weight: 400
			text-transform: uppercase
			color: #808080

			+below(960px) {
				font-size: rem(10)
			}

			+below(730px) {
				font-size: rem(12)
			}
		}

		&__picture {
			img {
				max-width: rem(200)
			}

			&::before {
				content: ''
				display: block
				margin: rem(5) auto rem(20)
				width: rem(80)
				height: 1px
				background-color: #d7d3d3

			}
		}

		&__text {
			margin: rem(34) 0 0 rem(10)
			max-width: 60%
			text-align: left
			font-family: $caslon-font-family
			font-size: rem(13)
			line-height: rem(16)
			font-weight: 600
			font-style: italic
			color: #ababab
		}

		&__number {
			display: inline-block
			margin: rem(10) 0 rem(5)
			font-family: $caslon-font-family
			font-size: rem(32)
			font-weight: 700
			font-style: italic
			color: #191d21
			text-transform: uppercase

			+below(960px) {
				font-size: rem(45)
			}

			&__super {
				font-size: 60%
			}

			&__text {
				font-family: $montserrat-font-family
				font-size: rem(12)
				font-weight: 400
				text-transform: uppercase
				color: #191d21
				font-style: normal
			}
		}
	}
	.filter__title {
		margin-bottom: rem(25)
		max-width: 100%
		font-family: $caslon-font-family
		font-size: rem(26)
		font-weight: 600
		font-style: italic
		color: #333
		text-transform: none

		+below(960px) {
			margin-top: rem(20)
			font-size: rem(20)
		}
	}

	.filter__button__wrapper {
		margin-top: rem(15)
		max-width rem(320)
		width: 100%

		+below(320px) {
			margin-top: rem(5)
		}

		&.-secondary {
			position: absolute
			bottom: rem(-70)
			left: rem(8)
		}

		.button {
			float: left
			padding: rem(10)
    		width: rem(158)

			&:last-child {
				float: right

				+below(730px) {
					padding-top: rem(10)
				}
			}

			&__text {
				&-initial {
					+below(960px) {
						display: none
					}

					+below(730px) {
						display: inline-block
					}
				}

				&-alt {
					+above(960px) {
						display: none
					}

					+below(730px) {
						display: none
					}
				}
			}

			&--ghost {
				margin: 0
				border-width: 1px
				padding: rem(10) 0 rem(8)
				min-width: 0
				width: rem(158)
				font-size: rem(12)

				+below(730px) {
					margin-bottom: rem(20)
					padding: rem(11) 0 rem(9)
					width: rem(145)
					background-color $gray
				}

				&:last-child {
					float: right
				}
			}
		}
	}

	.filter--booking__section.-anchor-details {
		margin-top: rem(30)
		padding: rem(30) rem(20) rem(20)
		background-color: #d3d3d3

		.list {
			text-align: left
			&__item {
				width: 100%
				font-size: rem(11)
				color: #333
				text-transform: uppercase
			}
		}
	}

	&::after {
		+between(1100px, 1224px) {
			top: -7px
			left: -7px
		}

		+between(960px, 1100px) {
			top: -6px
			left: -6px
		}
	}
}

.filter--booking__tap {
	display: none
	position: fixed
	top: rem(60)
	opacity: 1
	visibility: visible
	width: 100%
	background-color: $aqua
	box-shadow: 0 1px 0 #017579
	transition: opacity 200ms ease-in-out, visibility 200ms ease-in-out

	+below(960px) {
		display: block
	}

	+below(480px) {
		top: rem(54)
	}

	&__button {
		text-decoration: none
		color: inherit

		.icon {
			position: absolute
			top: rem(10)
			right: rem(20)
		}
	}

	&__text {
		margin: 0
		padding: rem(12) rem(10)
		font-family: $caslon-font-family
		font-size: rem(17)
		font-weight: 600
		font-style: italic
		color: #fff
	}

	&.-hidden {
		display: block
		opacity: 0
		visibility: hidden
	}
}

.filter--booking {
	&__section {
		&.-anchor-filters {
			+below(730px) {
				float: none
				margin: 0 auto
				padding-left: 0
				max-width: rem(315)
				width: 100%
				text-align: right

				.form__input__container.filter__input__container {
					margin: rem(5)
					width: rem(145)
				}

				.filter__button__wrapper {
					margin-top: rem(5)
					max-width: rem(300)

					.button {
						width: rem(142)
						font-size: rem(15)
					}
				}
			}
		}

		&.-anchor-details {
			+below(730px) {
				width: 100%
				background-color: transparent

				.filter__button__wrapper {
					margin-top: rem(15)

					.button {
						padding: rem(11) 0 rem(9)
						width: rem(143)
						font-size: rem(12)
					}
				}

				.disclaimer__text {
					margin: 0 auto rem(20)
					max-width: rem(300)
					font-size: rem(13)
				}
			}
		}

		+below(730px) {
			margin-top: rem(30)
			text-align: center

			.filter__button__wrapper {
				max-width: rem(300)
			}
		}
	}

	&.-fixed {
		position: fixed
		top: rem(110)

		+below(960px) {
			position: static
			transition: top 200ms ease-out
		}

		/* Fix for Chrome bug on fixed elements when using overflow hidden on children elements */
 		backface-visibility: hidden
 		transform: translateZ(0)

		+below(960px) {
			top: rem(60)
		}

		+below(732px) {
			width: 100%
		}

		+below(480px) {
			top: rem(54)
		}
	}

	&.-is-bottom {
		position: absolute
		top: auto

		+below(960px) {
			position: relative
		}
	}

	&__wrapper {
		transition: max-height 500ms ease-in-out

		+below(960px) {
			transition-property: none
		}
	}
}

.filter--side {
	// Solves chrome flickering on scroll
	transform: translateZ(0)

	cf()
	float: right
	padding: rem(20)
	width: rem(370)

	.filter__form {
		max-width: 100%

		+above(960px) {
			overflow-y: auto
			overflow-x: hidden
			margin-bottom: rem(25)
			padding-bottom: rem(25)
			max-height: 75vh
			-ms-overflow-style: none
		}
	}

	+below(960px) {
		float: none
	}

	&__wrapper {
		position: relative
		border-bottom: 1px solid #d8d8d8
		padding-bottom: rem(20)
		overflow: hidden

		&.-last {
			position: absolute
			z-index: 500
			bottom: 0
			border-bottom: 0
			width: 90%
			background-color: $light-gray

			+below(960px) {
				position: relative
				width: 100%
			}
		}

		&:last-child {
			border-bottom: 0
			padding-bottom: 0
		}

		&.-helper-inline {
			text-align: right

			.filter--side__subtitle {
				display: inline-block
				position: relative
				left: rem(-22)
				top: rem(3)
			}
		}

		&.-first {
			padding-bottom: rem(8)
			.filter--side__subtitle {
				left: rem(-10)

				+below(670px) {
					position: static
					margin-left: rem(5)
				}
			}

			+below(670px) {
				text-align: left
			}
		}
	}

	.filter--side__wrapper__inner {
		display: inline-block
		vertical-align: middle

		+below(670px) {
			margin-top: rem(10)
		}

		&.-first {
			display: inline-block
			vertical-align: top
			width: rem(285)
		}
	}

	&__input__container {
		max-width: rem(133)
		margin: rem(5) 0 rem(5) rem(5)
	}

	&__subtitle {
		margin: rem(10) 0 rem(10)

		span {
			display: none

			+below(670px) {
				display: inline-block
				margin-left: rem(5)
			}
		}
	}

	.filter__button__wrapper {
		width: 100%
		text-align: center

		+below(960px) {
			margin-top: 0
		}

		.button {
			padding: rem(14) rem(32) rem(12)

			&.-ui-cancel {
				display: none
			}
		}
	}
}

.filter-aside {
	position: absolute
	left: 0
	background-color: $light-gray

	&__container {
		cf()

		+below(670px) {
			position: relative
			top: 0
		}
	}

	.filter__input__name {
		+below(960px) {
			top: rem(-35)
			left: 0
		}
	}
}

.filter-aside.-fixed {
	position: fixed
	top: rem(100)

	+below(960px) {
		position: static
		width: 100%
	}
}

.filter-aside.-top {
	top: rem(55)
}

.filter-aside.-bottom {
	position: absolute
	top: auto
	bottom: 0
}

.filter-aside.-fixed-top {
	position: absolute
	top: 0

	+below(960px) {
		position: static
		width: 100%
	}
}

.-has-map {
	.filter-aside__container.-fixed-top  {
		position: absolute
		z-index: 500
		top: 0
		width: 100%

		+below(960px) {
			position: relative
		}
	}
}
